<!-- Copyright (C) 2025  HighLite

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>. -->

<!doctype html>
<!-- Update Page shows percentage downloaded with a spinner -->

<html lang="en">
    <head>
        <link rel="stylesheet" href="/css/updater.css" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
    </head>
    <body>
        <div class="highlite_titlebar">
            <div style="display: flex; margin-left: 5px; align-items: center">
                <img id="logoImg" src="/icons/icon.png" alt="HighLite Logo" />
                <span id="logoText">HighLite</span>
            </div>

            <div
                style="
                    display: flex;
                    left: calc(env(titlebar-area-width, 100%) - 40px);
                    position: absolute;
                    margin-top: 5px;
                "
            >
                <a
                    style="display: flex"
                    href="https://discord.gg/highspell"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    <i class="iconify" data-icon="simple-icons:discord"></i>
                </a>
            </div>
        </div>

        <div id="update-container">
            <p id="update-status">Checking for updates..</p>
            <div
                style="
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                "
            >
                <span id="progressLoader" class="loader"></span>
                <p id="progressText"></p>
            </div>
            <div
                id="update-change"
                style="
                    display: none;
                    flex-direction: column;
                    align-items: center;
                    background-color: #0000004f;
                    border-radius: 10px;
                    padding: 10px;
                    margin-top: -48px;
                "
            >
                <h2 id="releaseName">Release Notes</h2>
                <div id="releaseNotes"></div>
            </div>
            <div style="display: flex" id="update-buttons">
                <button id="updateNow" style="display: none">Update Now</button>
                <button id="updateLater" style="display: none">
                    Update Later
                </button>
                <button id="restartNow" style="display: none">
                    Restart Now
                </button>
                <button id="restartLater" style="display: none">
                    Restart Later
                </button>
            </div>
        </div>
    </body>
    <script type="module" src="updater/updater.ts"></script>
</html>
